Got it â€” youâ€™re looking to completely redesign and rebuild your meal swap/search system from the ground up. Based on your image and explanation, hereâ€™s a fully detailed prompt you can plug into AI Studio / Replit / any AI code generator to regenerate a smarter, cleaner, and more functional manual meal plan generator and food swap UI system.

â¸»

ğŸ§  Prompt: Complete Redesign & Rebuild of the Meal Swap System (Search, UI, Data, Sync)

â¸»

Goal:
Rebuild the existing food swap system to offer accurate, clean, and relevant food substitutions (e.g., show â€œchicken breastâ€ instead of fast food options like â€œChick-fil-Aâ€). The goal is to provide a clean user experience optimized for macro-based meal planning using verified food databases like USDA or custom-built catalogues. This includes redesigning the UI, improving the API queries, and syncing selected swaps with the userâ€™s meal plan.

â¸»

ğŸ”§ Functional Objectives:

â¸»

âœ… 1. Accurate Search Results from Verified Sources
	â€¢	Query only clean, whole food entries by default (e.g., â€œchicken breast,â€ â€œground turkey,â€ â€œsalmon,â€ â€œegg whitesâ€).
	â€¢	Avoid branded/fast food items unless user toggles to view them.
	â€¢	Implement a â€œfilter toggleâ€:
	â€¢	Whole foods (default)
	â€¢	Branded/Restaurant
	â€¢	All

Data Sources:
	â€¢	Use the USDA FoodData Central API, but only pull from:
	â€¢	Foundation Foods
	â€¢	SR Legacy
	â€¢	Branded (optional)

Enhancements:
	â€¢	Implement fuzzy search with typo-tolerance.
	â€¢	Sort by macro similarity to current food (e.g., show similar protein content).

â¸»

âœ… 2. UI Redesign (Modern, Functional, Contextual)
Redesign UI Components:

Section	Feature
Top Section	Show current food card (Name, Portion, Macros)
Below	Search bar with live autocomplete
Filter	Button/toggle for food category (Protein / Carbs / Fats / All)
Results	Cards with: Name, Macros per userâ€™s portion size, Source (USDA/Foundation)
Bottom	â€œCancelâ€ and â€œConfirm Swapâ€ CTA
Optional	Add image/icon if available for food item

Make Sure:
	â€¢	â€œConfirm Swapâ€ updates the current meal plan immediately and reflects changes in:
	â€¢	Macro totals
	â€¢	Daily nutrition log
	â€¢	Syncs to userâ€™s meal_plan and food_log tables in Supabase

â¸»

âœ… 3. Rebuild Swap Logic with Macro Matching
	â€¢	When the user is swapping a food, show relevant foods with similar macros by:
	â€¢	Protein Â±5g
	â€¢	Fat Â±3g
	â€¢	Carbs Â±5g
	â€¢	Calories Â±50kcal
	â€¢	Suggest portion equivalents dynamically:
	â€¢	e.g., swapping 30g whey â†’ 85g chicken breast

â¸»

âœ… 4. Backend Structure (Supabase Integration)
Required Tables:
	â€¢	user_meal_plan: Stores current meal plan (meals, food items, portion, macros)
	â€¢	food_catalog: Caches USDA or custom foods with categories and metadata
	â€¢	user_food_log: Tracks all food interactions (for analytics, trends, gamification)
	â€¢	food_swaps: Optional history table for tracking swaps

Features:
	â€¢	Store food category tags (e.g., protein, carb, fat, mixed)
	â€¢	Link swap history to improve future AI suggestions

â¸»

âœ… 5. Search Enhancements + Future-Proofing
	â€¢	Add option to search by:
	â€¢	Macros (e.g., â€œ20g protein under 200 kcalâ€)
	â€¢	Food type (e.g., â€œlean meats,â€ â€œplant-based proteinsâ€)
	â€¢	Add filters:
	â€¢	Calories
	â€¢	Prep type (e.g., grilled, raw, cooked)
	â€¢	Dietary tags: [Vegan, Vegetarian, Paleo, etc.]

â¸»

ğŸ’¡ Bonus: AI-Powered Smart Swaps

Add option for â€œSuggest Smart Swapâ€, where AI:
	â€¢	Suggests top 3 healthiest alternatives
	â€¢	Prioritizes whole foods
	â€¢	Matches userâ€™s dietary preference (stored from onboarding)
	â€¢	Explains why it was suggested (â€œhigher proteinâ€, â€œless fatâ€, etc.)

â¸»

âœ… Final Outcome:

A fully rebuilt, clean, macro-smart food swap system that:
	â€¢	Shows only relevant whole food items
	â€¢	Uses live search with accurate USDA data
	â€¢	Has a modern, functional UI
	â€¢	Syncs instantly with the meal plan and macro log
	â€¢	Supports customization, dietary filters, and AI assistance

â¸»

Let me know if youâ€™d like a working UI code snippet, Supabase table schema, or a modular prompt split for step-by-step integration.