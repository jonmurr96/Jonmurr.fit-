import React from 'react';
import { MuscleGroup } from '../types';

export type RecoveryStatus = 'ready' | 'recovering' | 'sore';
export type MuscleRecoveryStatus = Partial<Record<MuscleGroup, RecoveryStatus>>;

interface MuscleMapProps {
  recoveryStatus: MuscleRecoveryStatus;
}

const MusclePath: React.FC<{
  muscle: MuscleGroup;
  status: RecoveryStatus | undefined;
  d: string;
  title: string;
}> = ({ status, d, title }) => {
  const statusToColor: Record<RecoveryStatus, string> = {
    sore: 'fill-red-500/80',
    recovering: 'fill-yellow-400/80',
    ready: 'fill-green-500/80',
  };
  const colorClass = status ? statusToColor[status] : 'fill-zinc-700';

  return (
    <path
      d={d}
      className={`transition-colors duration-300 ${colorClass} hover:fill-zinc-500`}
    >
      <title>{title} ({status || 'ready'})</title>
    </path>
  );
};


export const MuscleMap: React.FC<MuscleMapProps> = ({ recoveryStatus }) => {
  return (
    <div className="grid grid-cols-2 gap-4">
        {/* FRONT VIEW */}
        <div className="relative">
            <svg viewBox="0 0 130 300" className="w-full h-auto">
                <MusclePath muscle="shoulders" status={recoveryStatus.shoulders} title="Shoulders" d="M38.8,44.3c-7-1-12.2-0.5-18.4,1.4c-4.8,1.4-8.8,3.6-11.4,7.6c-1,1.5-1.5,4-0.9,5.7c0.8,2.3,2.8,3,5.1,3c3.6,0.1,7-1.1,10.5-1.9c4.9-1.2,9.8-1,14.5,0.8c2.6,1,4.9,2.7,7,4.8c1.6,1.5,3,3.3,3.4,5.6c0.3,1.9-0.8,4.1-2.2,5.2c-2.3,1.8-5.3,1.9-8,1.3c-3-0.7-5.9-1.8-8.8-2.9c-2.8-1-5.6-2-8.4-2.2c-2.2-0.2-4.4,0.7-5.8,2.4c-1.6,2-1.7,4.8-0.3,6.8c1.3,1.9,3.6,2.8,5.8,2.9c3.2,0.1,6.4-0.8,9.5-1.6 M90.8,44.3c7-1,12.2-0.5,18.4,1.4c4.8,1.4,8.8,3.6,11.4,7.6c1,1.5,1.5,4,0.9,5.7c-0.8,2.3-2.8,3-5.1,3c-3.6,0.1-7-1.1-10.5-1.9c-4.9-1.2-9.8-1-14.5,0.8c-2.6,1-4.9,2.7-7,4.8c-1.6,1.5-3,3.3-3.4,5.6c-0.3,1.9,0.8,4.1,2.2,5.2c2.3,1.8,5.3,1.9,8,1.3c3-0.7,5.9-1.8,8.8-2.9c2.8-1,5.6-2,8.4-2.2c2.2-0.2,4.4,0.7,5.8,2.4c1.6,2,1.7,4.8,0.3,6.8c-1.3,1.9-3.6,2.8-5.8,2.9c-3.2,0.1-6.4-0.8-9.5-1.6"/>
                <MusclePath muscle="chest" status={recoveryStatus.chest} title="Chest" d="M42.5,60.8c-2.2,2.3-2.8,5.5-2,8.3c0.8,2.9,2.8,5.3,5.3,6.8c5.2,3.1,11,4.2,16.8,4.4c0.5,0,1,0,1.5,0c0.7-0.1,1.5-0.1,2.2-0.2c2.9-0.3,5.7-0.9,8.5-1.8c3.2-1.1,6.2-2.6,8.8-4.9c2.7-2.3,4.6-5.4,5.2-8.8c0.6-3-0.1-6.1-2-8.7c-2.5-3.3-6.1-5.2-10-5.6c-4.1-0.4-8.2,0.2-12.2,1.1c-5.5,1.3-10.9,3-16.1,5.3C45.2,58.8,43.5,59.5,42.5,60.8z M44,81.4c-0.7,1.8-0.9,3.8-0.6,5.7c0.4,2.2,1.6,4.2,3.3,5.6c3.2,2.6,7.1,4.1,11.2,4.6c1.1,0.1,2.2,0.2,3.3,0.2c1.7,0,3.5-0.2,5.1-0.5c3.2-0.5,6.3-1.5,9.2-2.9c3-1.4,5.7-3.3,7.9-5.7c2.1-2.4,3.4-5.4,3.6-8.5c0.2-2.8-0.6-5.6-2.3-7.8c-2-2.6-4.8-4.2-7.9-4.9c-2.9-0.7-5.8-0.9-8.7-0.6c-4.5,0.4-8.8,1.9-12.9,3.4C49,78.2,46.1,79.8,44,81.4z"/>
                <MusclePath muscle="biceps" status={recoveryStatus.biceps} title="Biceps" d="M20.5,76.4c-3.1,2.5-4.3,6.6-3.4,10.3c0.7,3,2.8,5.4,5.5,6.5c2.1,0.8,4.3,1.1,6.4,0.7c3-0.5,5.8-2.1,7.9-4.2c2.4-2.4,3.8-5.6,4-8.9c0.2-2.9-0.8-5.8-2.8-7.8c-2-2-4.7-3.1-7.5-3.1c-2,0-4,0.5-5.8,1.3C22.9,73.1,21.4,74.5,20.5,76.4z M109.1,76.4c3.1,2.5,4.3,6.6,3.4,10.3c-0.7,3-2.8,5.4-5.5,6.5c-2.1,0.8-4.3,1.1-6.4,0.7c-3-0.5-5.8-2.1-7.9-4.2c-2.4-2.4-3.8-5.6-4-8.9c-0.2-2.9,0.8-5.8,2.8-7.8c2-2,4.7-3.1,7.5-3.1c2,0,4,0.5,5.8,1.3C106.7,73.1,108.2,74.5,109.1,76.4z"/>
                <MusclePath muscle="abs" status={recoveryStatus.abs} title="Abs" d="M47.7,106.8c-1.3,1.9-2,4.3-2,6.7c0,3.3,1.1,6.5,3.2,9c1.9,2.2,4.4,3.8,7.2,4.5c1.4,0.4,2.9,0.6,4.4,0.6c2,0,4-0.3,5.9-0.9c2.8-0.9,5.3-2.5,7.2-4.6c2.1-2.2,3.4-5.1,3.7-8.1c0.3-3-0.4-6-2-8.5c-1.8-2.7-4.4-4.5-7.5-5.2c-2.4-0.5-4.8-0.5-7.2,0.1c-3.1,0.7-6,2.2-8.5,4.1C50,104.5,48.6,105.4,47.7,106.8z M48.2,130c-0.5,1.7-0.6,3.5-0.2,5.2c0.5,2,1.5,3.8,3,5.1c2.6,2.3,5.9,3.6,9.3,3.7c1.2,0,2.4-0.1,3.6-0.3c2.7-0.5,5.2-1.6,7.4-3.2c2.4-1.7,4.3-4,5.4-6.7c1-2.6,1.2-5.4,0.4-8.1c-0.9-2.9-2.7-5.3-5.2-6.9c-2.1-1.3-4.5-2-7-2c-3.5,0-6.9,1.1-9.6,3C49.9,127.3,48.8,128.5,48.2,130z M48.2,152.1c0,1.2,0.1,2.4,0.4,3.5c0.6,2.4,1.9,4.5,3.8,6.1c3.2,2.6,7.2,4.1,11.3,4.1c1.8,0,3.6-0.3,5.3-0.8c3.2-1,6.1-2.7,8.4-5.1c2.1-2.2,3.5-5,4-7.9c0.5-2.9-0.1-5.9-1.6-8.4c-1.5-2.5-3.7-4.3-6.4-5.2c-3.2-1.1-6.5-1.1-9.7,0.1c-2.9,1.1-5.5,2.9-7.5,5.1C50.2,148.9,48.9,150.4,48.2,152.1z"/>
                <MusclePath muscle="obliques" status={recoveryStatus.obliques} title="Obliques" d="M39.3,105.4c-0.8-1.5-1-3.3-0.7-5c0.6-3.2,2.8-5.8,5.7-7.2c2-1,4.2-1.5,6.4-1.5c1.8,0,3.5,0.3,5.2,1c2.7,1.1,5.1,2.8,6.8,5.1c1.5,2,2.3,4.5,2.1,7c-0.2,2.7-1.4,5.2-3.3,7c-2.4,2.3-5.5,3.6-8.7,3.7c-2,0.1-4.1-0.2-6-0.8c-2.8-0.9-5.3-2.5-7.1-4.6C41.2,108.6,40,107.2,39.3,105.4z M39.3,129.5c-0.8-1.5-1-3.3-0.7-5c0.6-3.2,2.8-5.8,5.7-7.2c2-1,4.2-1.5,6.4-1.5c1.8,0,3.5,0.3,5.2,1c2.7,1.1,5.1,2.8,6.8,5.1c1.5,2,2.3,4.5,2.1,7c-0.2,2.7-1.4,5.2-3.3,7c-2.4,2.3-5.5,3.6-8.7,3.7c-2,0.1-4.1-0.2-6-0.8c-2.8-0.9-5.3-2.5-7.1-4.6C41.2,132.7,40,131.3,39.3,129.5z M39.3,151.6c-0.8-1.5-1-3.3-0.7-5c0.6-3.2,2.8-5.8,5.7-7.2c2-1,4.2-1.5,6.4-1.5c1.8,0,3.5,0.3,5.2,1c2.7,1.1,5.1,2.8,6.8,5.1c1.5,2,2.3,4.5,2.1,7c-0.2,2.7-1.4,5.2-3.3,7c-2.4,2.3-5.5,3.6-8.7,3.7c-2,0.1-4.1-0.2-6-0.8c-2.8-0.9-5.3-2.5-7.1-4.6C41.2,154.8,40,153.4,39.3,151.6z M90.3,105.4c0.8-1.5,1-3.3,0.7-5c-0.6-3.2-2.8-5.8-5.7-7.2c-2-1-4.2-1.5-6.4-1.5c-1.8,0-3.5,0.3-5.2,1c-2.7,1.1-5.1,2.8-6.8,5.1c-1.5,2-2.3,4.5-2.1,7c0.2,2.7,1.4,5.2,3.3,7c2.4,2.3,5.5,3.6,8.7,3.7c2,0.1,4.1-0.2,6-0.8c2.8-0.9,5.3-2.5,7.1-4.6C88.4,108.6,89.6,107.2,90.3,105.4z M90.3,129.5c0.8-1.5,1-3.3,0.7-5c-0.6-3.2-2.8-5.8-5.7-7.2c-2-1-4.2-1.5-6.4-1.5c-1.8,0-3.5,0.3-5.2,1c-2.7,1.1-5.1,2.8-6.8,5.1c-1.5,2-2.3,4.5-2.1,7c0.2,2.7,1.4,5.2,3.3,7c2.4,2.3,5.5,3.6,8.7,3.7c2,0.1,4.1-0.2,6-0.8c2.8-0.9,5.3-2.5,7.1-4.6C88.4,132.7,89.6,131.3,90.3,129.5z M90.3,151.6c0.8-1.5,1-3.3,0.7-5c-0.6-3.2-2.8-5.8-5.7-7.2c-2-1-4.2-1.5-6.4-1.5c-1.8,0-3.5,0.3-5.2,1c-2.7,1.1-5.1,2.8-6.8,5.1c-1.5,2-2.3,4.5-2.1,7c0.2,2.7,1.4,5.2,3.3,7c2.4,2.3,5.5,3.6,8.7,3.7c2,0.1,4.1-0.2,6-0.8c2.8-0.9,5.3-2.5,7.1-4.6C88.4,154.8,89.6,153.4,90.3,151.6z"/>
                <MusclePath muscle="quads" status={recoveryStatus.quads} title="Quads" d="M41,170.8c0,28.6-3.3,57-6.2,85.1c-0.7,7,0.2,14.1,2.9,20.6c1.1,2.7,3.9,4.2,6.7,3.8c3.2-0.5,5.5-3,5.6-6.3c0.4-11-0.5-22.1-0.8-33.1c-0.3-10.3,0.3-20.7,1.2-31c0.4-4.8,0.7-9.5,0.9-14.3c0.1-2.4,0.1-4.8,0-7.2c-0.1-2.1-1.6-4.1-3.6-4.8c-2.4-0.8-5,0-6.8,2.1C42.8,166.7,41.6,168.7,41,170.8z M89,170.8c0,28.6,3.3,57,6.2,85.1c0.7,7-0.2,14.1-2.9,20.6c-1.1,2.7-3.9,4.2-6.7,3.8c-3.2-0.5-5.5-3-5.6-6.3c-0.4-11,0.5-22.1,0.8-33.1c0.3-10.3-0.3-20.7-1.2-31c-0.4-4.8-0.7-9.5-0.9-14.3c-0.1-2.4-0.1-4.8,0-7.2c0.1-2.1,1.6-4.1,3.6-4.8c2.4-0.8,5,0,6.8,2.1C86.8,166.7,88.4,168.7,89,170.8z"/>
            </svg>
            <p className="text-center font-semibold text-zinc-400 mt-2 text-sm">Front</p>
        </div>

        {/* BACK VIEW */}
        <div className="relative">
            <svg viewBox="0 0 130 300" className="w-full h-auto">
                <MusclePath muscle="traps" status={recoveryStatus.traps} title="Traps" d="M39.6,49.2c-2.8-0.2-5.6,0.2-8.2,1.3c-4.4,1.8-7.8,5-9.6,9.5c-1.2,3-1.6,6.2-1,9.2c0.6,3.3,2.3,6.3,4.9,8.5c2.9,2.4,6.4,3.8,10.1,4.2c4.4,0.4,8.8-0.2,12.8-1.9c3.2-1.3,6-3.4,8.2-6.1c1.9-2.3,3-5.1,3.2-8c0.2-3.1-0.7-6.2-2.5-8.8C55.6,52.1,51.2,49.2,46,49C43.9,48.9,41.7,49,39.6,49.2z M90,49.2c2.8-0.2,5.6,0.2,8.2,1.3c4.4,1.8,7.8,5,9.6,9.5c1.2,3,1.6,6.2,1,9.2c-0.6,3.3-2.3,6.3-4.9,8.5c-2.9,2.4-6.4,3.8-10.1,4.2c-4.4,0.4-8.8-0.2-12.8-1.9c-3.2-1.3-6-3.4-8.2-6.1c-1.9-2.3-3-5.1-3.2-8c-0.2-3.1,0.7-6.2,2.5-8.8C74,52.1,78.4,49.2,83.6,49C85.7,48.9,87.9,49,90,49.2z"/>
                <MusclePath muscle="shoulders" status={recoveryStatus.shoulders} title="Shoulders" d="M39.2,48.1c-7.2,1-13.9,3.3-19.4,7.8c-3.3,2.7-5.9,6.3-7.2,10.4c-1,3.2-1,6.6,0.1,9.7c1.1,3.4,3.2,6.4,6,8.6c4.2,3.3,9.4,5.1,14.6,5.1c5.1,0,10.1-1.6,14.3-4.4c3.4-2.2,6.1-5.3,7.9-8.9c1.6-3.2,2.3-6.8,1.9-10.3c-0.5-3.8-2.3-7.3-5-10.1C49.2,51.3,44.4,48.9,39.2,48.1z M90.4,48.1c7.2,1,13.9,3.3,19.4,7.8c3.3,2.7,5.9,6.3,7.2,10.4c1,3.2,1,6.6-0.1,9.7c-1.1,3.4-3.2,6.4-6,8.6c-4.2,3.3-9.4,5.1-14.6,5.1c-5.1,0-10.1-1.6-14.3-4.4c-3.4-2.2-6.1-5.3-7.9-8.9c-1.6-3.2-2.3-6.8-1.9-10.3c0.5-3.8,2.3-7.3,5-10.1C80.4,51.3,85.2,48.9,90.4,48.1z"/>
                <MusclePath muscle="triceps" status={recoveryStatus.triceps} title="Triceps" d="M22.5,91c-2.4-0.8-5-0.7-7.3,0.3c-3,1.3-5.4,3.6-6.7,6.5c-1.1,2.4-1.3,5.1-0.6,7.6c0.7,2.7,2.3,5.1,4.6,6.6c2.9,2,6.4,2.8,9.8,2.3c2.9-0.5,5.6-1.9,7.6-4.1c2.1-2.2,3.3-5,3.4-7.9c0.1-3.2-1-6.3-3.1-8.6C28.1,92.5,25.4,91.3,22.5,91z M107.1,91c2.4-0.8,5-0.7,7.3,0.3c3,1.3,5.4,3.6,6.7,6.5c1.1,2.4,1.3,5.1,0.6,7.6c-0.7,2.7-2.3,5.1-4.6,6.6c-2.9,2-6.4,2.8-9.8,2.3c-2.9-0.5-5.6-1.9-7.6-4.1c-2.1-2.2-3.3-5-3.4-7.9c-0.1-3.2,1-6.3,3.1-8.6C101.5,92.5,104.2,91.3,107.1,91z"/>
                <MusclePath muscle="lats" status={recoveryStatus.lats} title="Lats" d="M38,89.5c-3.3,0-6.6,0.6-9.7,1.9c-4,1.7-7.5,4.3-10,7.7c-2.2,3-3.4,6.5-3.4,10.2c0,4.2,1.6,8.3,4.6,11.5c3.2,3.5,7.5,5.8,12.2,6.6c3.9,0.7,7.9,0.5,11.7-0.4c4.3-1,8.3-3.1,11.7-6c3-2.6,5.1-5.9,6.2-9.6c0.9-3.2,0.8-6.6-0.2-9.7c-1.3-4-3.7-7.4-7-9.9c-3.7-2.8-8-4.4-12.5-4.7C42.8,89.7,40.4,89.5,38,89.5z M91.6,89.5c3.3,0,6.6,0.6,9.7,1.9c4,1.7,7.5,4.3,10,7.7c2.2,3,3.4,6.5,3.4,10.2c0,4.2-1.6,8.3-4.6,11.5c-3.2,3.5-7.5,5.8-12.2,6.6c-3.9,0.7-7.9,0.5-11.7-0.4c-4.3-1-8.3-3.1-11.7-6c-3-2.6-5.1-5.9-6.2-9.6c-0.9-3.2-0.8-6.6,0.2-9.7c1.3-4,3.7-7.4,7-9.9c3.7-2.8,8-4.4,12.5-4.7C86.8,89.7,89.2,89.5,91.6,89.5z"/>
                <MusclePath muscle="lower_back" status={recoveryStatus.lower_back} title="Lower Back" d="M46.8,131.6c-1,3.4-0.4,7.1,1.7,9.9c2.1,2.8,5.1,4.7,8.5,5.4c4.2,0.8,8.5,0.3,12.3-1.6c3.3-1.6,6-4.2,7.7-7.4c1.7-3.2,2.3-6.9,1.6-10.4c-0.8-3.7-2.8-7-5.8-9.1c-3.2-2.3-7-3.5-10.8-3.4c-4.1,0.1-8,1.5-11.1,3.9C48.8,126.3,47.4,128.8,46.8,131.6z"/>
                <MusclePath muscle="glutes" status={recoveryStatus.glutes} title="Glutes" d="M41,152.1c-1.9,10.2-0.9,20.7,2.5,30.5c1.4,4,3.7,7.6,6.9,10.3c4.1,3.5,9.2,5.5,14.6,5.5c4.7,0,9.3-1.6,13.2-4.5c4.3-3.2,7.5-7.6,9.2-12.6c1.9-5.4,2.2-11.2,1-16.8c-1.5-6.5-4.5-12.5-8.8-17.1c-4.2-4.5-9.6-7.5-15.5-8.5c-5.7-1-11.5,0-16.9,2.8C42.8,144.3,41.2,148.1,41,152.1z"/>
                <MusclePath muscle="hamstrings" status={recoveryStatus.hamstrings} title="Hamstrings" d="M48.2,201.2c-0.6,11.5-0.2,23,1.3,34.4c0.5,3.9,2.1,7.6,4.6,10.7c2.3,2.8,5.4,4.6,8.8,5.2c4.1,0.7,8.2-0.2,11.7-2.5c3.2-2.1,5.6-5.2,6.9-8.8c1.3-3.6,1.5-7.5,0.7-11.2c-1.1-5.1-3.5-9.8-6.9-13.6c-3.5-3.8-8-6.5-12.9-7.7C56.1,206.8,51.8,204.6,48.2,201.2z"/>
                <MusclePath muscle="calves" status={recoveryStatus.calves} title="Calves" d="M47.9,255.4c-1.1,6.5,0.2,13.1,3.4,18.8c1.7,3,4.2,5.4,7.3,6.7c3.7,1.5,7.7,1.5,11.4,0c3.4-1.4,6.2-3.9,8-7.1c2.1-3.6,3-7.8,2.7-12c-0.4-5-2.2-9.7-5.1-13.6c-3.1-4.2-7.3-7.2-12.1-8.5c-4.6-1.2-9.3-0.7-13.5,1.4C49,249.7,48.2,252.5,47.9,255.4z"/>
            </svg>
            <p className="text-center font-semibold text-zinc-400 mt-2 text-sm">Back</p>
        </div>
    </div>
  );
};
